<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <meta name="description" content="Aimelive | Freelance Developer | Official Biography website">
    <meta name="keywords" content="Aimelive, Biography, Awesome websites">
    <meta name="author" content="Aime Ndayambaje">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aimelive - Blog Posts </title>
    <link rel="icon" href="images/Rectangle 21.png" type="image/x-icon">
    <link rel="stylesheet" href="css/blog.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


</head>

<body>

    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <div class="navbar">
        <table>
            <tr>
                <td><img src="images/Rectangle 21.png" id="logo" width="50px" /></td>
                <td><label id="logo_text">AimeLive</label></td>
            </tr>
        </table>
        <nav class="menu" id="menuBar">
            <a onclick="login_out()" id="admin_login">login</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contacts</a>
            <a href="blog.html" style="background-color: white;color: black;">News</a>
            <a href="index.html">Home</a>
        </nav>
        <a class="humberg" onclick="showNav()" id="humberg"><i class="fa fa-bars"></i></a>
        <div class="mybodyhover" id="mybodyhover" onclick="closeNav()">
        </div>
        <nav class="mobileNav" id="mobileNav">

            <i style="font-size:24px" class="fa" id="closeNav"><span onclick="closeNav()">&#xf00d;</span></i>
            <a href="#">Home</a>
            <a href="#">News</a>
            <a href="#">About</a>
            <a href="#">Contacts</a>
            <a href="#">Login</a>



        </nav>

    </div>
    <div class="header">
        <h2>Aimelive - Blog Posts</h2>
    </div>

    <div class="row blog_body">
        <div class="leftcolumn" id="leftCol">
        </div>
        <div class="rightcolumn">
            <div class="card">
                <h2>About Me</h2>
                <img src="images/IMG-20220113-WA0012-modified.png" class="cardimg" />
                <p>Freelance Developer - Web Specialist - IT Proffesional - Software Management</p>
            </div>
            <div class="card">
                <h3>Popular Post</h3>
                <img src="images/198807056_1350758038653763_5653275032777728992_n.jpg" class="cardimg" />
                <p>Another thing to know about Aimelive is that he hustled for a while since 2018 in journalism media industry, </p>
                <br>
                <img src="images/rwanda-kagame.jpeg" class="cardimg" />
                <p>Another thing to know about Aimelive is that he hustled for a while since 2018 in journalism media industry, </p>
                <br>
                <img src="images/198807056_1350758038653763_5653275032777728992_n.jpg" class="cardimg" />
                <p>Another thing to know about Aimelive is that he hustled for a while since 2018 in journalism media industry, </p>

            </div>
            <div class="newsletter card">
                <div class="main-block">
                    <h1> Stay in touch</h1>
                    <form method="post" name="signupNewsletter" class="subscriptionForm">
                        <center>
                            <img src="images/subscribe-newsletter-icon-30-removebg-preview.png" width="20%" style="margin-bottom: 30px;" />
                        </center>
                        <div class="info">
                            <div class="info-item">
                                <label class="icon" for="lastname"><i class="fa fa-user"></i></label>
                                <input type="text" name="lastname" id="lastname" placeholder="Name" />
                            </div>
                            <div class="info-item2">
                                <label class="icon" for="email"><i class="fa fa-envelope" style="font-size: 15px;"></i></label>
                                <input type="email" name="email" id="email" placeholder="Email" />
                            </div>
                            <h1 style="text-align: center;display: none;" class="h1"> Already a Subscriber! <br> Thanks for subscribing! <br> Enjoy! ðŸŽ‰ðŸª„ <br> <br><br> </h1>
                        </div>
                        <button type="submit" class="subscribeButton">Subscribe</button>
                    </form>

                </div>
            </div>
            <div class="card follow">

                <h3>Follow Me</h3>
                <a href="#" class="fa fa-facebook"></a>
                <a href="#" class="fa fa-whatsapp"></a>
                <a href="#" class="fa fa-linkedin"></a>
                <a href="#" class="fa fa-twitter"></a>
                <a href="#" class="fa fa-slack"></a>
                <a href="#" class="fa fa-github"></a>
            </div>
        </div>
    </div>
    <script src="./toRemove/firebase.js"></script>

    <div class="footer">
        <p class="label">&copy; Copright; Aimelive 2022 <a href="">Terms and Conditions here</a></p>
    </div>
    </script>
    <script>
        let humberg = document.getElementById("humberg")
        let navBar = document.getElementById("mobileNav")
        let mybodyhover = document.getElementById("mybodyhover")
        const subscribeform = document.querySelector(".subscriptionForm")
        let info_item = document.querySelector(".info-item")
        let info_item2 = document.querySelector(".info-item2")
        let subscribeButton = document.querySelector(".subscribeButton")
        let h1 = document.querySelector(".h1")

        function showNav() {
            navBar.style.width = "45%";
            mybodyhover.style.display = "block"
        }

        function closeNav() {
            navBar.style.width = 0
            mybodyhover.style.display = "none"
        }


        async function getuserInfo() {
            response = await fetch(server + "users/info/user", {
                headers: {
                    "Authorization": token,
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                }
            })

            const user = await response.json()

            //existSubsriber(user.Data.email, user.Data.name)

            if (response.status == 200) {
                subscribeform.lastname.value = user.Data.name
                subscribeform.lastname.disabled = true
                subscribeform.email.value = user.Data.email
                subscribeform.email.disabled = true
            } else {
                subscribeform.lastname.disabled = false
                subscribeform.email.disabled = false
            }
        }

        subscribeform.addEventListener('submit', async(e) => {
            e.preventDefault()
            try {

                const resp = await fetch(server + 'subscriptions', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        name: subscribeform.lastname.value,
                        email: subscribeform.email.value,
                    })
                })
                const data = await resp.json()

                if (resp.status == 201) {
                    swal('success', data.Congratulation, 'success').then(() => {
                        info_item.style.display = "none"
                        info_item2.style.display = "none"
                        subscribeButton.style.display = "none"
                        h1.innerHTML = `<b>${data.Data.Subscriber.name} </b> <br> Thanks for subscribing!! <br><br>`
                        h1.style.display = "block"
                        subscribeform.reset()



                    })
                }
                if (resp.status == 409) {
                    swal('error', data.Message, 'error').then(() => {
                        subscribeform.email.focus()
                    })
                }

                if (resp.status == 400) {
                    swal('error', data.Message, 'error').then(() => {})
                }


            } catch (error) {
                console.log("AN ERROR OCCURED PLEASE " + error)
            }

        });
    </script>



    <script src="server.js"></script>
</body>

</html>